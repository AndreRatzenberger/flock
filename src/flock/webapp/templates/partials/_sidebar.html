<nav>
    <h5>Manage Flocks</h5>
    <ul>
        <li>
            <button hx-get="/ui/htmx/load-flock-view" 
                    hx-target="#main-content-area" 
                    hx-push-url="/" 
                    hx-indicator="#content-loading-indicator-main"
                    class="contrast {% if request.url.path == '/' or request.url.path == '/ui/htmx/load-flock-view' %}active-nav{% endif %}">
                <i class="fas fa-folder-open"></i> Load Files
            </button>
        </li>
         <li>
            <button hx-get="/ui/htmx/create-flock-form" 
                    hx-target="#main-content-area" 
                    hx-push-url="/ui/create"
                     hx-indicator="#content-loading-indicator-main"
                    class="contrast {% if request.url.path == '/ui/create' %}active-nav{% endif %}">
                <i class="fas fa-plus-circle"></i> Create New Flock
            </button>
        </li>
    </ul>
    
    {% if current_flock %}
    <hr>
    <h5>Current Flock</h5>
     <ul>
         <li>
             <button hx-get="/api/flocks/htmx/flock-properties-form" 
                    hx-target="#main-content-area" 
                    hx-push-url="/ui/editor/properties" 
                    hx-indicator="#content-loading-indicator-main"
                    class="{% if request.url.path == '/ui/editor/properties' %}active-nav{% endif %}">
                <i class="fas fa-cog"></i> Properties & Save
            </button>
        </li>
         <li>
            <button hx-get="/ui/htmx/agent-manager-view" 
                    hx-target="#main-content-area" 
                    hx-push-url="/ui/editor/agents" 
                    hx-indicator="#content-loading-indicator-main"
                    class="{% if request.url.path == '/ui/editor/agents' %}active-nav{% endif %}">
                <i class="fas fa-robot"></i> Agents ({{ current_flock.agents|length }})
            </button>
         </li>
         <li>
            <button hx-get="/ui/htmx/execution-view-container" 
                    hx-target="#main-content-area" 
                    hx-push-url="/ui/editor/execute" 
                    hx-indicator="#content-loading-indicator-main"
                    class="{% if request.url.path == '/ui/editor/execute' %}active-nav{% endif %}">
                <i class="fas fa-play-circle"></i> Execute Flock
            </button>
         </li>
     </ul>
    {% endif %}

    <hr>
    <h5>Tools</h5>
    <ul>
        <li>
            <button hx-get="/ui/htmx/registry-viewer" 
                    hx-target="#main-content-area" 
                    hx-push-url="/ui/registry"
                    hx-indicator="#content-loading-indicator-main"
                    class="contrast {% if request.url.path == '/ui/registry' %}active-nav{% endif %}">
                <i class="fas fa-book"></i> View Registry
            </button>
        </li>
    </ul>
    <div id="content-loading-indicator-main" class="htmx-indicator" style="text-align:center; padding:1rem;"><progress indeterminate></progress></div>
</nav>